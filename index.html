<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/1d86bf17be.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="imgs/logo whatsapp.png" type="image/icon type">
    <title>Boolzapp</title>
</head>
<body>
    <main class="background">
        <div class="top-bg"></div>
        <div class="down-bg">
            <div class="container" id="webapp">
                <div class="app">
                    <div class="col-4">
                        <div class="user-info-col-4">
                            <div class="left-info-user">
                                <img src="imgs/avatar_2.jpg" alt="" class="avatar-chat">
                                <span id="user-name">Dennis</span>
                            </div>
                            <div class="icon-chat">
                                <i class="fa-solid fa-circle-notch"></i>
                                <i class="fa-solid fa-message"></i>
                                <i class="fa-solid fa-ellipsis-vertical"></i>
                            </div>
                        </div>
                        <div class="notifiche-desktop d-flex justify-content-start align-items-center gap-3 ps-3">
                            <div class="bells-icon">
                                <i class="fa-solid fa-bell-slash"></i>
                            </div>
                            <div class="d-flex flex-column">
                                <span class="ricevi-notifiche">Ricevi notifiche di nuovi messaggi</span>
                                <span id="attiva-notifiche">Attiva notifiche desktop</span>
                            </div>
                        </div>
                        <div class="search-chat d-flex justify-content-center align-items-center">
                            <button id="button-search-col-4">
                                <i class="fa-solid fa-magnifying-glass opacity-50"></i>
                            </button>
                            <input type="text" class="input-search-chat" placeholder="Cerca o inizia una nuova chat">
                        </div>
                        <!-- CONTAINER CHAT -->
                        <div class="chat-container">
                            <div class="chat-list d-flex justify-content-lg-start gap-3 px-2 py-2" v-for="contact in contacts" @click="activeUserChat">
                                <div class="avatar-chat">
                                    <img :src="contact.avatar" alt="" class="avatar-chat">
                                </div>
                                <div class="info-avatar-chat d-flex flex-column">
                                    <!-- NOME E ULTIMO MESSAGGIO -->
                                    <span class="nome-avatar-chat">{{ contact.name }}</span>
                                    <span class="last-message">{{contact.messages[contact.messages.length - 1].message}}</span>
                                </div>
                                <div class="time-message">
                                    <!-- ORARIO -->
                                    <span class="time">{{contact.messages[contact.messages.length - 1].date}}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-8">
                        <div class="user-info">
                            <div class="user-info-chat">
                                <!-- img user attivo top pagina -->
                                <img src="imgs/avatar_1.jpg" alt="" class="avatar-chat">
                                <div class="avatar-info">
                                    <!-- nome e ultimo accesso MITTENTE, POSIZIONE TOP COL-8 -->
                                    <span class="avatar-name">{{contacts[activeElement].name}}</span>
                                    <span class="avatar-access">Ultimo accesso alle 10,45</span>
                                </div>
                            </div>
                            <div class="icon-chat">
                                <i class="fa-solid fa-magnifying-glass"></i>
                                <i class="fa-solid fa-paperclip"></i>
                                <i class="fa-solid fa-ellipsis-vertical"></i>
                            </div>
                        </div>
                        <!-- SECTION CHAT -->
                        <div class="chat py-2">
                            <!-- wrapper message received -->
                            <div class="chat-wrapper px-5" v-for="message in contacts[activeElement].messages">
                                <div class="message-received col-4">
                                    <div class="text-message" :class="message.status == 'received' ? 'message-received' : 'd-none'">{{ message.message }}</div>
                                </div>
                            </div>
                            <!-- wrapper message send -->
                            <div class="chat-wrapper px-5" v-for="message in contacts[activeElement].messages">
                                <div class="message-sent col-4 offset-8">
                                    <div class="text-message" :class="message.status == 'sent' ? 'message-sent' : 'd-none'">{{ message.message }}</div>
                                </div>
                            </div>
                        </div>
                        <div class="cont-input">
                            <div class="chat-bttn">
                                <i class="fa-regular fa-face-smile"></i>
                            </div>
                            <div class="input">
                                <input id="txt" type="text" placeholder="Scrivi un messaggio">
                            </div>
                            <div class="chat-bttn">
                                <i class="fa-solid fa-microphone"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script src="main.js"></script>
</body>
</html>



<!-- -Milestone 2
*Visualizzazione dinamica dei messaggi: tramite la direttiva v-for, visualizzare tutti i messaggi relativi al contatto attivo all’interno del pannello della conversazione
*Click sul contatto mostra la conversazione del contatto cliccato

-Milestone 3
*Aggiunta di un messaggio: l’utente scrive un testo nella parte bassa e digitando “enter” il testo viene aggiunto al thread sopra, come messaggio verde
*Risposta dall’interlocutore: ad ogni inserimento di un messaggio, l’utente riceverà un “ok” come risposta, che apparirà dopo 1 secondo.

-Milestone 4
*Ricerca utenti: scrivendo qualcosa nell’input a sinistra, vengono visualizzati solo i contatti il cui nome contiene le lettere inserite (es, Marco, Matteo Martina -> Scrivo “mar” rimangono solo Marco e Martina) -->


<!-- NON RIESCO A COLLEGARE IL MESSAGGI CON STATUS SENT ALLA CLASSE INVIATI E I MESSAGGI CON STATUS RECEIVED ALLA CLASSE RECEIVED -->